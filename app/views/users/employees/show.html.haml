.container.my-3
  .main-body
    .row
      .col-lg-4

        / --------- Employee Information --------- /
        .card.my-2
          .card-body
            .d-flex.flex-column.align-items-center.text-center
              %img.rounded-circle.p-1.bg-primary{:alt => "Admin", :src => "https://bootdey.com/img/Content/avatar/avatar3.png", :width => "110"}/

              .mt-3
                %h5
                  = @employee.first_name + ' ' + @employee.last_name

                %br

                %p.mb-1.fw-bold
                  Position Applied:

                  %span.inline.fw-normal
                    = @employee.role

                %p.mb-1.fw-bold
                  Employment Status:

                  %span.inline.fw-normal
                    = t("employment_event.status.#{@employee.employment_events.last.status}")

            %hr.my-4

            %ul.list-group.list-group-flush
              %li.list-group-item.d-flex.justify-content-between.align-items-center.flex-wrap
                %h6.mb-0
                  Date of Birth:

                %span.text-secondary
                  = @employee.date_of_birth.strftime("%B %e, %Y")

              %li.list-group-item.d-flex.justify-content-between.align-items-center.flex-wrap
                %h6.mb-0
                  Email Address:

                %span.text-secondary
                  = @employee.email

              %li.list-group-item.d-flex.justify-content-between.align-items-center.flex-wrap
                %h6.mb-0
                  Contact Number:

                %span.text-secondary
                  = @employee.contact_number

              %li.list-group-item.d-flex.justify-content-between.align-items-center.flex-wrap
                %h6.mb-0
                  Highest Education:

                %span.text-secondary
                  = t("employee.education.#{@employee.education}")

              %li.list-group-item.d-flex.justify-content-between.align-items-center.flex-wrap
                %h6.mb-0
                  Years of Work Experience:

                %span.text-secondary
                  = t("employee.work_experience.#{@employee.work_experience}")

              %li.list-group-item.d-flex.justify-content-between.align-items-center.flex-wrap
                %h6.mb-0
                  Character References:

                %span.text-secondary
                  = @employee.character_references

        / --------- Update Status --------- /
        .card.my-2
          .card-body
            %h5.d-flex.align-items-center.mb-3
              Update Status:

            - EmploymentEvent::STATUSES.each do |status|
              = link_to employee_update_status_path(@employee, status: status), class: "btn btn-outline-primary btn-sm m-1", data: { 'turbo-method' => :put } do
                = t("employment_event.status.#{status}")

      / --------- Employment History --------- /
      .col-lg-8
        .card.my-2.bg-dark
          .card-body
            %h5.d-flex.justify-content-between.align-items-center.text-white.mb-3
              Employment History
              = link_to "Back to Dashboard", authenticated_user_root_path, class: "btn btn-light btn-sm m-1"

            - @employee.employment_events.order(created_at: :desc).each do |employment_event|
              .card.my-2
                .card-body
                  %dl.row
                    %dt.col-sm-3
                      Status:

                    %dd.col-sm-9
                      = employment_event.status_translation

                    %dt.col-sm-3
                      Notes:

                    %dd.col-sm-9
                      = employment_event.notes

                    %dt.col-sm-3
                      Created By:

                    %dd.col-sm-9
                      - if employment_event.user.present?
                        = employment_event.user.email

                      - else
                        Employee-invoked Action

                    %dt.col-sm-3
                      Created At:

                    %dd.col-sm-9
                      = employment_event.created_at.strftime("%B %e %Y at %I:%M:%S %p")
